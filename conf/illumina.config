/*
 * -------------------------------------------------
 *  Nextflow test config file for processes options
 * -------------------------------------------------
 * Defines general paths for input files and
 * parameters for samba processes
 */

params {

    /* --------------------
     *  General parameters
     * --------------------
     */

    // Analyzed project name
    projectName = ""
    // Data type (paired by default)
    singleEnd = false
    // Output directory to publish workflow results
    outdir = "${baseDir}/results/${projectName}"

    // Input parameters
    excel_sample_file = "${baseDir}/training_dataset/shortreads/excel_sample_file.xls"

    // Type of data
    // default: longreads = false (handle illumina short reads)
    // set to longreads = true for pacbio or nanopore input data
    longreads = false

    /* -----------------------------------------
     *  Summary of SAMBA processes to configure
     * -----------------------------------------
     *  Data integrity: verify FASTQ format of raw reads to insure data integrity
     *  Cutadapt: remove primer from raw reads
     *  FIGARO: identify optimal trimming parameters for DADA2
     */

    /* -----------------------------
     *  Data integrity process
     * -----------------------------
     */
    data_integrity_enable = true

    /* -----------------------------
     *  Cutadapt process parameters
     * -----------------------------
     * Optional process to remove
     * primers from raw reads
     */

    //Activation
    cutadapt_enable = true

    //Set your forward and reverse primers
    primerF = ""
    primerR = ""

    //Error rate (default = 0.1)
    errorRate = "0.1"

    /* -----------------------------
     *  FIGARO process parameters
     * -----------------------------
     * Optional and only for paired-end
     * data
     */

    //Activation (ONLY FOR PAIRED-END DATA)
    figaro_enable = true

    //Set the path to your directory containing raw data FASTQ
    raw_data_dir = ""

    //Set the size of expected amplicons
    amplicon_length = ""

    /* --------------------------------------------------------
     *  DADA2 process parameters
     * --------------------------------------------------------
     * Infers exact amplicon sequence variants (ASVs)
     * Set quality trimming parameters to fit to your data
     * You can use the optimal parameters identified by FIGARO
     */
    
    //Remove the first n bases of each reads ( default = 0 -> no removal)
    FtrimLeft = "0"
    RtrimLeft = "0"

    //Length at which to trim reads. Remove bases after this length ( default = 0 -> no trimming)
    FtruncLen = "0"
    RtruncLen = "0"

    //Minium allowed base quality (default = 2)
    truncQ = "2"

    //Max error rate allowed for reads (default = 2)
    FmaxEE = "2"
    RmaxEE = "2"

    //Method used to pool samples for denoising. Choices: 'independent' (default) or 'pseudo'
    //see DADA2 documentation for more explanation
    pooling_method = "independent"

    //Method used to identify and remove chimeras. Choices: 'consensus' (default), 'none' or 'pooled'
    //see DADA2 documentation for more explanation
    chimeras_method = "consensus"
    
    /* -------------------------------------
     *  dbOTU3 process parameters
     * -------------------------------------
     * Optional process to cluster
     * ASV based on phylogeny, distribution 
     * and abundance criterions
     */

    //Activation
    dbotu3_enable = true

    /* ---------------------------------
     *  Steps to activate or deactivate
     * ---------------------------------
     */
    
    filtering_tax_enable = false
    microDecon_enable = false
    picrust2_enable = false
    ancom_enable = true
    stats_alpha_enable = true
    stats_beta_enable = true
    stats_desc_comp_enable = true
    report_enable = true
    
    // To compress final result directory set compress_result to true
    compress_result = true
    
    //STATS ONLY : set stats_only to true if you already have your ASV table
    stats_only = false
    
    //Dada2 merge process
    dada2merge = false
    
    //to set if DADA2 MERGE ASVs tables is activated
    //path to dada2 directory with ASV tables to merge (directory must contained only the tables to merge)
    merge_tabledir = "/PATH/TO/merge/table"
    //path to dada2 directory with repseqs to merge (directory must contained only the repseq files to merge)
    merge_repseqsdir = "/PATH/TO/merge/seq"

    /*
    ASV taxonomic assignation using QIIME2 RDP-like program
    */
    //pre-formatted databases can be download here: ftp://ftp.ifremer.fr/ifremer/dataref/bioinfo/sebimer/sequence-set/SAMBA/2019.10/
    database = ""
    //extract region from reference database using primers (default but takes time)
    seqs_db = ""
    taxo_db = ""
    
    /*
    Filtering ASV table and sequences based on the taxonomic assignation
    */
    //list of taxa you want to exclude (comma separated list). Set to "none" if you choose to include taxa.
    tax_to_exclude = ""
    //list of taxa you want to include (comma separated list). Set to "none" if you choose to exclude taxa.
    tax_to_include = ""

    /*
    Decontamination step using microDecon package
    */
    //list of control samples. For one control: "control1" ; for more controls: "control1,control2". If no control, set to "none"
    control_list = "none"  
    //number of controls? If no control, set to "0"
    nb_controls = "0" 
    //number of samples (total samples - number of controls)
    nb_samples = ""

    /* 
    Differential abundance testing with ANCOM
    */
    //Variables of interest (comma separated list)
    ancom_var = ""

    /* 
    Functional predictions with PICRUSt2
    */
    //Variables of interest (comma separated list)
    picrust_var = ""     

    /*
    Remove samples for statistical analyses
    */
    //Activate or desactivate this step in the create_phyloseq_obj.R process
    remove_sample = false
    //list of samples to remove (comma separated list)
    sample_to_remove = ""

    /*
    Statistics steps parameters
    */
    //According to your metadata file, list the column names corresponding to the variables of interest (comma separated list)
    //Alpha diversity analysis
       alpha_div_group = ""
       //Kingdom to be represented in barplots
       kingdom = "Bacteria"
       //Maximum number of taxa to represent
       taxa_nb = "10"
    //Beta diversity analysis
       beta_div_var = ""
       //Hierarchical clustering method
       hc_method = "ward.D2"
    //UpsetR analysis (descriptive analysis like venn diagram) 
      desc_comp_crit = ""
      //taxonomic level for bar in UpsetR graph
      desc_comp_tax_level = ""

    //if STATS_ONLY is activated
    inasv_table = "/PATH-TO/your_own_ASV_table.tsv"
    innewick = "/PATH-TO/your_own_tree.nwk"
}
